Version 4.1
SHEET 1 32668 680
WIRE 1344 -80 1232 -80
WIRE 1472 -80 1424 -80
WIRE -544 -32 -592 -32
WIRE -176 -32 -256 -32
WIRE 48 -32 -176 -32
WIRE 176 -32 128 -32
WIRE 208 -32 176 -32
WIRE 288 -32 208 -32
WIRE 416 -32 368 -32
WIRE 448 -32 416 -32
WIRE 528 -32 448 -32
WIRE 656 -32 608 -32
WIRE 688 -32 656 -32
WIRE 800 -32 688 -32
WIRE 896 -32 864 -32
WIRE 928 -32 896 -32
WIRE 1024 -32 928 -32
WIRE 1024 0 1024 -32
WIRE 1232 16 1232 -80
WIRE 1472 16 1472 -80
WIRE -432 32 -480 32
WIRE 1200 48 1168 48
WIRE 928 64 928 -32
WIRE -480 80 -480 32
WIRE -176 80 -176 -32
WIRE 208 80 208 -32
WIRE 448 80 448 -32
WIRE 688 80 688 -32
WIRE 1168 80 1168 48
WIRE 1392 80 1328 80
WIRE 1472 80 1392 80
WIRE 1568 80 1472 80
WIRE 1696 80 1632 80
WIRE 1472 96 1472 80
WIRE 1024 112 1024 80
WIRE 1088 112 1024 112
WIRE 1200 112 1088 112
WIRE 1696 128 1696 80
WIRE -592 144 -592 -32
WIRE 1024 144 1024 112
WIRE 1472 176 1472 160
WIRE -480 208 -480 160
WIRE -592 272 -592 224
WIRE -176 272 -176 160
WIRE 208 272 208 144
WIRE 448 272 448 144
WIRE 688 272 688 144
WIRE 928 272 928 144
WIRE 1024 272 1024 224
WIRE 1232 272 1232 144
WIRE 1472 272 1472 256
WIRE 1696 272 1696 208
FLAG -176 272 0
FLAG 208 272 0
FLAG 448 272 0
FLAG 1024 272 0
FLAG 1232 272 0
FLAG 1472 272 0
FLAG 1696 272 0
FLAG -480 208 0
FLAG 1472 16 0
FLAG 1168 80 0
FLAG -592 272 0
FLAG 688 272 0
FLAG -256 -32 PWM
FLAG 176 -32 LP1
FLAG 416 -32 LP2
FLAG 656 -32 LP3
FLAG -544 -32 Sample
FLAG -432 32 Audio
FLAG 928 272 0
FLAG 896 -32 HP
FLAG 1088 112 Ain
FLAG 1392 80 Aout
FLAG 1696 80 Speaker
SYMBOL voltage -176 64 R0
WINDOW 3 22 154 Left 2
WINDOW 123 24 104 Left 2
WINDOW 39 24 132 Left 2
SYMATTR Value PWL file=pwm_signal.pwl
SYMATTR Value2 AC 1
SYMATTR InstName V1
SYMBOL cap 224 144 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value 100n
SYMATTR SpiceLine V=4
SYMBOL res 144 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 180
SYMATTR SpiceLine pwr=0.062
SYMBOL res 384 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 180
SYMATTR SpiceLine pwr=0.062
SYMBOL cap 464 144 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value 100n
SYMATTR SpiceLine V=4
SYMBOL res 1008 -16 R0
SYMATTR InstName R4
SYMATTR Value 20k
SYMATTR SpiceLine pwr=0.062
SYMBOL res 1008 128 R0
SYMATTR InstName R5
SYMATTR Value 6.2k
SYMATTR SpiceLine pwr=0.062
SYMBOL SYM\\LM386 1248 16 R0
SYMATTR InstName U1
SYMBOL cap 1456 96 R0
SYMATTR InstName C4
SYMATTR Value 100n
SYMATTR SpiceLine V=16
SYMBOL res 1456 160 R0
SYMATTR InstName R3
SYMATTR Value 10
SYMATTR SpiceLine pwr=0.062
SYMBOL cap 1632 64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 100µ
SYMATTR SpiceLine V=16
SYMBOL res 1680 112 R0
SYMATTR InstName Rs
SYMATTR Value 8
SYMATTR SpiceLine pwr=0.5
SYMBOL voltage 1328 -80 R270
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL voltage -480 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0.5 0.5 1k)
SYMBOL voltage -592 128 R0
WINDOW 3 6 123 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL file=audio_signal.pwl
SYMATTR InstName V6
SYMBOL res 624 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 180
SYMATTR SpiceLine pwr=0.062
SYMBOL cap 704 144 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C6
SYMATTR Value 100n
SYMATTR SpiceLine V=4
SYMBOL cap 864 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10n
SYMATTR SpiceLine V=4
SYMBOL res 944 160 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 82k
SYMATTR SpiceLine pwr=0.062
TEXT -128 312 Left 2 ;.ac dec 100 10 100k
TEXT -352 312 Left 2 !.tran 12m
TEXT 752 40 Left 2 ;HP cutoff\n194 Hz
TEXT 1568 144 Left 2 ;HP cutoff\n199 Hz
TEXT 272 -112 Left 2 ;LP cutoff 8.8 kHz
TEXT 848 -112 Center 2 ;remove DC offset
TEXT 1656 8 Center 2 ;remove DC offset
TEXT -608 360 Left 2 !.meas TRAN Pspeaker AVG V(Speaker)*I(Rs) FROM 1m TO 9m
TEXT -608 392 Left 2 !.measure TRAN AinMax MAX V(Ain) FROM 1m to 9m
TEXT -608 424 Left 2 !.measure TRAN AinMin MIN V(Ain) FROM 1m to 9m
TEXT 120 360 Left 2 ;< 0.5 W
TEXT 120 392 Left 2 ;< 0.4 V
TEXT 120 424 Left 2 ;> -0.4 V
TEXT -608 456 Left 2 !.measure TRAN Imax MAX I(V1) FROM 1m to 9m
TEXT 120 456 Left 2 ;< 20 mA
TEXT -608 488 Left 2 !.measure TRAN Imin MIN I(V1) FROM 1m TO 9m
TEXT 120 488 Left 2 ;> -20 mA
TEXT 768 312 Left 2 ;https://jlcpcb.com/partdetail/Inghai-GSPK151035PN_8R0_5W_L35_125T/C530539
RECTANGLE Normal 720 192 496 -80 2
RECTANGLE Normal 240 192 16 -80 2
RECTANGLE Normal 480 192 256 -80 2
RECTANGLE Normal 960 192 736 -80 2
RECTANGLE Normal 1760 240 1552 32 2
